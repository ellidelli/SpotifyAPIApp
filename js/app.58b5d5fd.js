(function(){"use strict";var t={3951:function(t,e,o){var r=o(144),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],n=o(1001),s={},c=(0,n.Z)(s,a,i,!1,null,null,null),l=c.exports,u=o(8345),p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg"},[e("section",{staticClass:"case"},[e("h3",[t._v("Statify")]),e("h1",[t._v(" login for your Spotify stats")]),e("button",{on:{click:t.loginToSpotify}},[t._v(" Login to Spotify")])])])},h=[],m=(o(2801),o(3767),o(8585),o(8696),{name:"Home",methods:{loginToSpotify(){const t=this.generateRandomString(128);return this.generateCodeChallenge(t).then((e=>{const o=this.generateRandomString(16),r="playlist-read-private playlist-read-collaborative playlist-modify-private playlist-modify-public user-top-read user-read-private ";localStorage.setItem("code_verifier",t);const a=new URLSearchParams({response_type:"code",client_id:"b089242ad5d843ca8599f72bb8a125fe",scope:r,redirect_uri:"https://ellidelli.github.io/SpotifyAPIApp/callback",state:o,code_challenge_method:"S256",code_challenge:e});window.location="https://accounts.spotify.com/authorize?"+a}))},generateRandomString(t){let e="";const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<t;r++)e+=o.charAt(Math.floor(Math.random()*o.length));return e},generateCodeChallenge(t){const e=new TextEncoder,o=e.encode(t);return window.crypto.subtle.digest("SHA-256",o).then((t=>this.base64encode(t)))},base64encode(t){return btoa(String.fromCharCode.apply(null,new Uint8Array(t))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}}}),f=m,d=(0,n.Z)(f,p,h,!1,null,"2b0cdff8",null),g=d.exports,_=function(){var t=this;t._self._c;return t._m(0)},v=[function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("Loading...")])])}],T=(o(7658),o(9669)),k=o.n(T),b=(o(8764),{name:"Callback",created(){if(this.$route.query.code){const t=this.$route.query.code,e=localStorage.getItem("code_verifier"),o=new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:"https://ellidelli.github.io/SpotifyAPIApp/callback",client_id:"b089242ad5d843ca8599f72bb8a125fe",code_verifier:e}),r={"Content-Type":"application/x-www-form-urlencoded"};return k().post("https://accounts.spotify.com/api/token",o,{headers:r}).then((t=>(localStorage.setItem("SPOTIFY_ACCESS_TOKEN",t.data.access_token),this.$router.push("global"))))}}}),y=b,S=(0,n.Z)(y,_,v,!1,null,"75307734",null),A=S.exports,C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"layout"},[e("Sidebar"),e("section",{staticClass:"main"},["/global"===t.$route.path?e("div",[e("h1",[t._v("Lets Get Started")]),e("h2",[t._v("Global Top Tracks")]),e("ul",t._l(t.globalTopTracks,(function(o,r){return e("li",{key:o.id},[e("h3",[t._v(t._s(r+1))]),e("img",{staticClass:"globalCardImg",attrs:{src:o.album.images[0].url,alt:"Track Album"}}),e("div",[e("h3",[t._v(t._s(o.name))]),e("h3",[t._v(t._s(o.artists[0].name))])])])})),0)]):"/toptracks"===t.$route.path?e("div",[e("h1",[t._v("Your Top Tracks")]),e("button",{on:{click:function(e){return t.getTopTracks("short_term")}}},[t._v("Last 4 Weeks")]),e("button",{on:{click:function(e){return t.getTopTracks("medium_term")}}},[t._v("Last 6 Months")]),e("button",{on:{click:function(e){return t.getTopTracks("long_term")}}},[t._v("All Time")]),e("h2",{staticStyle:{"margin-top":"20px"}},[t._v(t._s(t.trackTimeTitle))]),e("ul",t._l(t.topTracks,(function(o,r){return e("li",{key:o.id},[e("h3",[t._v(t._s(t.trackCount[r]))]),e("img",{attrs:{src:o.album.images[0].url,alt:"Track Album"}}),e("div",[e("h3",[t._v(t._s(o.name))]),e("h3",[t._v(t._s(o.artists[0].name))])])])})),0)]):"/topartists"===t.$route.path?e("div",[e("h1",[t._v("Your Top Artists")]),e("button",{on:{click:function(e){return t.getTopArtists("short_term")}}},[t._v("Last 4 Weeks")]),e("button",{on:{click:function(e){return t.getTopArtists("medium_term")}}},[t._v("Last 6 Months")]),e("button",{on:{click:function(e){return t.getTopArtists("long_term")}}},[t._v("All Time")]),e("h2",{staticStyle:{"margin-top":"20px"}},[t._v(t._s(t.artistTimeTitle))]),e("ul",t._l(t.topArtists,(function(o,r){return e("li",{key:o.id},[e("h3",[t._v(t._s(r+1))]),e("img",{attrs:{src:o.images[0].url,alt:"Artist Image"}}),e("div",[e("h3",[t._v(t._s(o.name))])])])})),0)]):t._e()]),e("section",{staticClass:"acc"},[e("h1",[t._v("Account")]),e("section",{staticClass:"info"},[t.profilePhoto?e("img",{attrs:{src:t.profilePhoto,alt:"Profile Photo"}}):t._e(),e("h2",[t._v(t._s(t.username))]),e("h3",[t._v("Followers: "+t._s(t.followersCount))])])])],1)},w=[],P=function(){var t=this,e=t._self._c;return e("section",{staticClass:"sidebar"},[e("h1",[t._v("Explore")]),e("button",{class:{active:"global"===t.activeSection},on:{click:function(e){return t.showSection("global")}}},[e("img",{attrs:{src:o(6553)}}),t._v("Home ")]),e("button",{class:{active:"toptracks"===t.activeSection},on:{click:function(e){return t.showSection("toptracks")}}},[e("img",{attrs:{src:o(6722)}}),t._v("Top Tracks ")]),e("button",{class:{active:"topartists"===t.activeSection},on:{click:function(e){return t.showSection("topartists")}}},[e("img",{attrs:{src:o(5594)}}),t._v("Top Artists ")])])},$=[],O={data(){return{activeSection:"home"}},methods:{showSection(t){console.log("Navigating to section:",t);try{this.$route.path!==`/${t}`?(console.log("Navigating..."),this.$router.replace(`/${t}`),this.activeSection=t):console.log("Already on the requested section.")}catch(e){console.error("Error navigating to section:",e)}}},created(){this.activeSection=this.$route.path.slice(1)}},E=O,x=(0,n.Z)(E,P,$,!1,null,null,null),I=x.exports,Z={name:"Data",mounted(){console.log("route:",this.$route)},data(){return{playlists:[],username:"",profilePhoto:"",followersCount:"",topTracks:[],rank:"",stat:null,timeRange:"null",trackTimeTitle:"Past 4 Weeks",artistTimeTitle:"Past 4 Weeks",globalTopTracks:[],accBgColor:""}},created(){const t=localStorage.getItem("SPOTIFY_ACCESS_TOKEN");if(!t)return this.$router.push("/");k().get("https://api.spotify.com/v1/me",{headers:{Authorization:`Bearer ${t}`}}).then((e=>{this.username=e.data.display_name,console.log(e.data.images),this.profilePhoto=e.data.images[1]?.url||"",this.followersCount=e.data.followers.total||0;const o="37i9dQZEVXbMDoHDwVN2tF";k().get(`https://api.spotify.com/v1/playlists/${o}/tracks`,{headers:{Authorization:`Bearer ${t}`}}).then((t=>{this.globalTopTracks=t.data.items.map((t=>t.track)),console.log(this.globalTopTracks)})).catch((t=>{console.error("Error fetching playlist tracks:",t)})),k().get("https://api.spotify.com/v1/me/top/tracks",{headers:{Authorization:`Bearer ${t}`},params:{time_range:"short_term",limit:50}}).then((t=>{this.topTracks=t.data.items,this.rank+=1})).catch((t=>{console.error("Error fetching top tracks:",t)})),k().get("https://api.spotify.com/v1/me/top/artists",{headers:{Authorization:`Bearer ${t}`},params:{time_range:"short_term",limit:50}}).then((t=>{this.topArtists=t.data.items,this.rank+=1}))})).catch((t=>{console.error("Error fetching username:",t)}))},methods:{getTopTracks(t){const e=localStorage.getItem("SPOTIFY_ACCESS_TOKEN");k().get("https://api.spotify.com/v1/me/top/tracks",{headers:{Authorization:`Bearer ${e}`},params:{time_range:t,limit:50}}).then((e=>{this.topTracks=e.data.items,this.rank+=1,"short_term"==t?this.trackTimeTitle="Past 4 Weeks":"medium_term"==t?this.trackTimeTitle="Past 6 Months":"long_term"==t&&(this.trackTimeTitle="All Time")})).catch((t=>{console.error("Error fetching top tracks:",t)}))},getTopArtists(t){const e=localStorage.getItem("SPOTIFY_ACCESS_TOKEN");k().get("https://api.spotify.com/v1/me/top/artists",{headers:{Authorization:`Bearer ${e}`},params:{time_range:t,limit:50}}).then((e=>{this.topArtists=e.data.items,this.rank+=1,"short_term"==t?this.artistTimeTitle="Past 4 Weeks":"medium_term"==t?this.artistTimeTitle="Past 6 Months":"long_term"==t&&(this.artistTimeTitle="All Time")})).catch((t=>{console.error("Error fetching top artists:",t)}))}},computed:{trackCount(){return this.topTracks.map(((t,e)=>e+1))}},components:{Sidebar:I}},L=Z,z=(0,n.Z)(L,C,w,!1,null,"0d172a9a",null),M=z.exports;r.ZP.use(u.ZP);const B=[{path:"/",name:"Home",component:g},{path:"/callback",name:"Callback",component:A},{path:"/playlists",name:"Playlists",component:M},{path:"/global",name:"Global",component:M},{path:"/toptracks",name:"Top TracKS",component:M},{path:"/topartists",name:"Top Artists",component:M}],F=new u.ZP({mode:"history",base:"/SpotifyAPIApp/",routes:B});var N=F;r.ZP.config.productionTip=!1,new r.ZP({router:N,render:t=>t(l)}).$mount("#app")},5594:function(t,e,o){t.exports=o.p+"img/artists.2ed4cc18.png"},6553:function(t,e,o){t.exports=o.p+"img/home.94ef85dc.png"},6722:function(t,e,o){t.exports=o.p+"img/tracks.43a75bbe.png"}},e={};function o(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,o),i.exports}o.m=t,function(){var t=[];o.O=function(e,r,a,i){if(!r){var n=1/0;for(u=0;u<t.length;u++){r=t[u][0],a=t[u][1],i=t[u][2];for(var s=!0,c=0;c<r.length;c++)(!1&i||n>=i)&&Object.keys(o.O).every((function(t){return o.O[t](r[c])}))?r.splice(c--,1):(s=!1,i<n&&(n=i));if(s){t.splice(u--,1);var l=a();void 0!==l&&(e=l)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[r,a,i]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.p="/SpotifyAPIApp/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,i,n=r[0],s=r[1],c=r[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(c)var u=c(o)}for(e&&e(r);l<n.length;l++)i=n[l],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(u)},r=self["webpackChunkspotify_app"]=self["webpackChunkspotify_app"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(3951)}));r=o.O(r)})();
//# sourceMappingURL=app.58b5d5fd.js.map